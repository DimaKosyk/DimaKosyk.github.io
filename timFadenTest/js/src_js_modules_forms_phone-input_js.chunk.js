"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk"] = self["webpackChunk"] || []).push([["src_js_modules_forms_phone-input_js"],{

/***/ "./src/js/modules/forms/phone-input.js":
/*!*********************************************!*\
  !*** ./src/js/modules/forms/phone-input.js ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getPhoneMatrix: function() { return /* binding */ getPhoneMatrix; },\n/* harmony export */   initPhoneInputs: function() { return /* binding */ initPhoneInputs; }\n/* harmony export */ });\n/* harmony import */ var intl_tel_input_build_css_intlTelInput_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! intl-tel-input/build/css/intlTelInput.css */ \"./node_modules/intl-tel-input/build/css/intlTelInput.css\");\n\nvar getPhoneMatrix = function getPhoneMatrix(input) {\n  var countryCode = input.dataset.countryCode;\n  var countryCodeLength = countryCode.length;\n  var matrix;\n  switch (countryCodeLength) {\n    case 1:\n      matrix = \"+\".concat(countryCode, \" (___) ___-____\");\n      break;\n    case 2:\n      matrix = \"+\".concat(countryCode, \" ____ ______\");\n      break;\n    default:\n      matrix = \"+\".concat(countryCode, \" ___ ___ ___\");\n  }\n  return matrix;\n};\nvar initPhoneInputs = function initPhoneInputs() {\n  var countryData;\n  var phoneInputs = document.querySelectorAll('[type=\"tel\"]');\n  __webpack_require__.e(/*! import() */ \"vendors-node_modules_intl-tel-input_build_js_intlTelInput_js\").then(__webpack_require__.t.bind(__webpack_require__, /*! intl-tel-input */ \"./node_modules/intl-tel-input/build/js/intlTelInput.js\", 23)).then(function (_ref) {\n    var intlTelInput = _ref[\"default\"];\n    phoneInputs.forEach(function (input) {\n      var phoneInput = intlTelInput(input, {\n        countryOrder: ['ua', 'pl', 'us', 'pt'],\n        initialCountry: 'ua',\n        excludeCountries: ['ru', 'by'],\n        countrySearch: false,\n        utilsScript: 'https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/23.0.10/js/utils.js'\n      });\n      countryData = phoneInput.getSelectedCountryData();\n      input.dataset.countryCode = countryData.dialCode;\n      input.addEventListener('countrychange', function () {\n        countryData = phoneInput.getSelectedCountryData();\n        input.dataset.countryCode = countryData.dialCode;\n      });\n    });\n  })[\"catch\"](function (error) {\n    return console.error('Error loading intl-tel-input:', error);\n  });\n  phoneInputs.forEach(function (input) {\n    function mask(event) {\n      var keyCode = event.keyCode || event.which; // Get keyCode\n\n      var phoneMask = getPhoneMatrix(input);\n      var index = 0,\n        defaultDigits = phoneMask.replace(/\\D/g, ''),\n        // Default digits from the mask\n        currentValue = this.value.replace(/\\D/g, ''),\n        // Remove all non-digit characters from the current value\n        formattedValue = phoneMask.replace(/[_\\d]/g, function (match) {\n          return index < currentValue.length ? currentValue.charAt(index++) || defaultDigits.charAt(index) : match;\n        });\n      index = formattedValue.indexOf('_');\n      var minimumLength = countryData.dialCode.length; // Including `+` and ` (` from dialCode\n\n      if (index !== -1) {\n        if (index < minimumLength) {\n          index = minimumLength;\n        }\n        formattedValue = formattedValue.slice(0, index);\n      }\n      var validationPattern = phoneMask.substr(0, this.value.length).replace(/_+/g, function (placeholder) {\n        return '\\\\d{1,' + placeholder.length + '}';\n      }).replace(/[+()\\- ]/g, '\\\\$&');\n      var regExp = new RegExp('^' + validationPattern + '$');\n      var dialCode = countryData.dialCode;\n      var dialCodeLength = dialCode.length;\n      if (event.type === 'keydown' && (event.key === 'Backspace' || event.key === 'Delete')) {\n        if (this.selectionStart <= dialCodeLength + 1) {\n          event.preventDefault();\n        } else {\n          event.preventDefault();\n          var start = this.selectionStart - 1;\n          var end = this.selectionEnd;\n          var newValue = this.value.slice(0, start) + this.value.slice(end);\n          this.value = newValue;\n          this.setSelectionRange(start, start);\n        }\n        return;\n      }\n      if (!this.value.startsWith(dialCode)) {\n        this.value = dialCode + this.value.slice(dialCodeLength);\n      }\n      if (!regExp.test(this.value) || this.value.length < minimumLength || keyCode > 47 && keyCode < 58) {\n        this.value = formattedValue;\n      }\n      if (event.type === 'blur' && this.value.length < minimumLength) {\n        this.value = '';\n      }\n    }\n    input.addEventListener('input', mask, false);\n    input.addEventListener('focus', mask, false);\n    input.addEventListener('blur', mask, false);\n    input.addEventListener('keydown', mask, false);\n    input.addEventListener('keydown', function (e) {\n      input.setSelectionRange(input.value.length, input.value.length);\n    });\n  });\n};\n\n//# sourceURL=webpack:///./src/js/modules/forms/phone-input.js?");

/***/ })

}]);