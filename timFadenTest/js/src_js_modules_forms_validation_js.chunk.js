"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk"] = self["webpackChunk"] || []).push([["src_js_modules_forms_validation_js"],{

/***/ "./src/js/modules/forms/phone-input.js":
/*!*********************************************!*\
  !*** ./src/js/modules/forms/phone-input.js ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getPhoneMatrix: function() { return /* binding */ getPhoneMatrix; },\n/* harmony export */   initPhoneInputs: function() { return /* binding */ initPhoneInputs; }\n/* harmony export */ });\n/* harmony import */ var intl_tel_input_build_css_intlTelInput_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! intl-tel-input/build/css/intlTelInput.css */ \"./node_modules/intl-tel-input/build/css/intlTelInput.css\");\n\nvar getPhoneMatrix = function getPhoneMatrix(input) {\n  var countryCode = input.dataset.countryCode;\n  var countryCodeLength = countryCode.length;\n  var matrix;\n  switch (countryCodeLength) {\n    case 1:\n      matrix = \"+\".concat(countryCode, \" (___) ___-____\");\n      break;\n    case 2:\n      matrix = \"+\".concat(countryCode, \" ____ ______\");\n      break;\n    default:\n      matrix = \"+\".concat(countryCode, \" ___ ___ ___\");\n  }\n  return matrix;\n};\nvar initPhoneInputs = function initPhoneInputs() {\n  var countryData;\n  var phoneInputs = document.querySelectorAll('[type=\"tel\"]');\n  __webpack_require__.e(/*! import() */ \"vendors-node_modules_intl-tel-input_build_js_intlTelInput_js\").then(__webpack_require__.t.bind(__webpack_require__, /*! intl-tel-input */ \"./node_modules/intl-tel-input/build/js/intlTelInput.js\", 23)).then(function (_ref) {\n    var intlTelInput = _ref[\"default\"];\n    phoneInputs.forEach(function (input) {\n      var phoneInput = intlTelInput(input, {\n        countryOrder: ['ua', 'pl', 'us', 'pt'],\n        initialCountry: 'ua',\n        excludeCountries: ['ru', 'by'],\n        countrySearch: false,\n        utilsScript: 'https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/23.0.10/js/utils.js'\n      });\n      countryData = phoneInput.getSelectedCountryData();\n      input.dataset.countryCode = countryData.dialCode;\n      input.addEventListener('countrychange', function () {\n        countryData = phoneInput.getSelectedCountryData();\n        input.dataset.countryCode = countryData.dialCode;\n      });\n    });\n  })[\"catch\"](function (error) {\n    return console.error('Error loading intl-tel-input:', error);\n  });\n  phoneInputs.forEach(function (input) {\n    function mask(event) {\n      var keyCode = event.keyCode || event.which; // Get keyCode\n\n      var phoneMask = getPhoneMatrix(input);\n      var index = 0,\n        defaultDigits = phoneMask.replace(/\\D/g, ''),\n        // Default digits from the mask\n        currentValue = this.value.replace(/\\D/g, ''),\n        // Remove all non-digit characters from the current value\n        formattedValue = phoneMask.replace(/[_\\d]/g, function (match) {\n          return index < currentValue.length ? currentValue.charAt(index++) || defaultDigits.charAt(index) : match;\n        });\n      index = formattedValue.indexOf('_');\n      var minimumLength = countryData.dialCode.length; // Including `+` and ` (` from dialCode\n\n      if (index !== -1) {\n        if (index < minimumLength) {\n          index = minimumLength;\n        }\n        formattedValue = formattedValue.slice(0, index);\n      }\n      var validationPattern = phoneMask.substr(0, this.value.length).replace(/_+/g, function (placeholder) {\n        return '\\\\d{1,' + placeholder.length + '}';\n      }).replace(/[+()\\- ]/g, '\\\\$&');\n      var regExp = new RegExp('^' + validationPattern + '$');\n      var dialCode = countryData.dialCode;\n      var dialCodeLength = dialCode.length;\n      if (event.type === 'keydown' && (event.key === 'Backspace' || event.key === 'Delete')) {\n        if (this.selectionStart <= dialCodeLength + 1) {\n          event.preventDefault();\n        } else {\n          event.preventDefault();\n          var start = this.selectionStart - 1;\n          var end = this.selectionEnd;\n          var newValue = this.value.slice(0, start) + this.value.slice(end);\n          this.value = newValue;\n          this.setSelectionRange(start, start);\n        }\n        return;\n      }\n      if (!this.value.startsWith(dialCode)) {\n        this.value = dialCode + this.value.slice(dialCodeLength);\n      }\n      if (!regExp.test(this.value) || this.value.length < minimumLength || keyCode > 47 && keyCode < 58) {\n        this.value = formattedValue;\n      }\n      if (event.type === 'blur' && this.value.length < minimumLength) {\n        this.value = '';\n      }\n    }\n    input.addEventListener('input', mask, false);\n    input.addEventListener('focus', mask, false);\n    input.addEventListener('blur', mask, false);\n    input.addEventListener('keydown', mask, false);\n    input.addEventListener('keydown', function (e) {\n      input.setSelectionRange(input.value.length, input.value.length);\n    });\n  });\n};\n\n//# sourceURL=webpack:///./src/js/modules/forms/phone-input.js?");

/***/ }),

/***/ "./src/js/modules/forms/validation.js":
/*!********************************************!*\
  !*** ./src/js/modules/forms/validation.js ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isFormValid: function() { return /* binding */ isFormValid; },\n/* harmony export */   validateForms: function() { return /* binding */ validateForms; }\n/* harmony export */ });\n/* harmony import */ var _notifications__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../notifications */ \"./src/js/modules/notifications.js\");\n/* harmony import */ var _phone_input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./phone-input */ \"./src/js/modules/forms/phone-input.js\");\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\n\n\nfunction validateTextField(input) {\n  if (input.value.length > 1) {\n    input.classList.remove('invalid');\n    return true;\n  } else {\n    input.classList.add('invalid');\n    return false;\n  }\n}\nfunction validateEmail(input) {\n  var regex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  if (regex.test(input.value.trim())) {\n    input.classList.remove('invalid');\n    return true;\n  } else {\n    input.classList.add('invalid');\n    return false;\n  }\n}\nfunction validatePhone(input) {\n  var phoneMatrix = (0,_phone_input__WEBPACK_IMPORTED_MODULE_1__.getPhoneMatrix)(input);\n\n  // Динамічно створюємо регулярний вираз на основі маски\n  var regexPattern = phoneMatrix.replace(/\\+/g, '\\\\+') // Екранізуємо символ \"+\"\n  .replace(/\\(/g, '\\\\(') // Екранізуємо символ \"(\"\n  .replace(/\\)/g, '\\\\)') // Екранізуємо символ \")\"\n  .replace(/-/g, '\\\\-') // Екранізуємо символ \"-\"\n  .replace(/_/g, '\\\\d'); // Підставляємо цифри на місце підкреслень\n\n  var regex = new RegExp(\"^\".concat(regexPattern, \"$\"));\n\n  // Виконуємо валідацію за допомогою динамічного регулярного виразу\n  if (regex.test(input.value)) {\n    input.classList.remove('invalid');\n    return true;\n  } else {\n    input.classList.add('invalid');\n    return false;\n  }\n}\nfunction validatePassword(input) {\n  // const regex = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^\\w\\d\\s]).{8,}$/;\n  // if (regex.test(input.value)) {\n  if (input.value.length >= 8) {\n    input.classList.remove('invalid');\n    return true;\n  } else {\n    input.classList.add('invalid');\n    return false;\n  }\n}\nfunction validateConfirmPassword(form, input) {\n  var password = form.querySelector('.password-input');\n  if (input.value === password.value) {\n    input.classList.remove('invalid');\n    return true;\n  } else {\n    input.classList.add('invalid');\n    return false;\n  }\n}\nfunction validateIfEmpty(input) {\n  if (input.value.length) {\n    input.classList.remove('invalid');\n    return true;\n  } else {\n    input.classList.add('invalid');\n    return false;\n  }\n}\nfunction validateTextInput(input, form) {\n  if (input.classList.contains('password-input')) {\n    return validatePassword(input);\n  } else if (input.classList.contains('confirm-password-input')) {\n    return validateConfirmPassword(form, input);\n  } else if (input.type === 'text') {\n    return validateTextField(input);\n  } else if (input.type === 'email') {\n    return validateEmail(input);\n  } else if (input.type === 'tel') {\n    return validatePhone(input);\n  } else {\n    return validateIfEmpty(input);\n  }\n}\nfunction validateCheckboxes(someCheckboxes, requiredCheckboxes) {\n  var someCheckboxInvalid = someCheckboxes.length && !_toConsumableArray(someCheckboxes).some(function (checkbox) {\n    return checkbox.checked;\n  });\n  var reqCheckboxInvalid = requiredCheckboxes.length && !_toConsumableArray(requiredCheckboxes).every(function (checkbox) {\n    return checkbox.checked;\n  });\n  function makeCheckboxInvalid(checkboxes) {\n    checkboxes.forEach(function (checkbox) {\n      var checkmark = checkbox.closest('.checkbox-container').querySelector('.checkmark');\n      if (checkmark) {\n        checkmark.classList.add('invalid');\n      }\n    });\n  }\n  function makeCheckboxValid(checkboxes) {\n    checkboxes.forEach(function (checkbox) {\n      var checkmark = checkbox.closest('.checkbox-container').querySelector('.checkmark');\n      if (checkmark) {\n        checkmark.classList.remove('invalid');\n      }\n    });\n  }\n  makeCheckboxValid(someCheckboxes);\n  makeCheckboxValid(requiredCheckboxes);\n  if (someCheckboxInvalid) {\n    makeCheckboxInvalid(someCheckboxes);\n    return false;\n  }\n  if (reqCheckboxInvalid) {\n    makeCheckboxInvalid(requiredCheckboxes);\n    return false;\n  }\n  return true;\n}\nfunction isFormValid(form) {\n  var inputs = form.querySelectorAll('input[required]');\n  var selects = form.querySelectorAll('select[required]');\n  var someCheckboxes = form.querySelectorAll('input[type=\"checkbox\"].some');\n  var requiredCheckboxes = form.querySelectorAll('input[type=\"checkbox\"][required]');\n  var validateSelects;\n  if (selects.length) {\n    validateSelects = _toConsumableArray(selects).every(function (select) {\n      if (!select.value.length) {\n        select.classList.add('invalid');\n        return false;\n      } else {\n        select.classList.remove('invalid');\n        return true;\n      }\n    });\n  } else {\n    validateSelects = true;\n  }\n\n  // Validate all inputs and collect invalid ones\n  var allInputsValid = _toConsumableArray(inputs).map(function (input) {\n    return validateTextInput(input, form);\n  }).every(Boolean);\n  var checkboxesValid = validateCheckboxes(someCheckboxes, requiredCheckboxes);\n  return allInputsValid && checkboxesValid && validateSelects;\n}\nvar validateForms = function validateForms() {\n  var forms = document.querySelectorAll('.form-validate');\n  forms.forEach(function (form) {\n    var _form$dataset$errorMe, _form$dataset$success;\n    var submitBtn = form.querySelector('[type=\"submit\"]');\n    var inputs = form.querySelectorAll('input[required]');\n    var checkboxes = form.querySelectorAll('input[type=\"checkbox\"]');\n    var messages = {\n      error: ((_form$dataset$errorMe = form.dataset.errorMessage) === null || _form$dataset$errorMe === void 0 ? void 0 : _form$dataset$errorMe.trim()) || 'Будь ласка, заповніть всі необхідні поля',\n      success: ((_form$dataset$success = form.dataset.successMessage) === null || _form$dataset$success === void 0 ? void 0 : _form$dataset$success.trim()) || 'Ваше повідомлення успішно відправлено!'\n    };\n    submitBtn.addEventListener('click', function (e) {\n      e.preventDefault();\n      if (!isFormValid(form)) {\n        (0,_notifications__WEBPACK_IMPORTED_MODULE_0__.showNotification)(messages.error, 'error');\n      }\n    }, true);\n    inputs.forEach(function (input) {\n      input.addEventListener('input', function () {\n        validateTextInput(input, form);\n      });\n    });\n    checkboxes.forEach(function (checkbox) {\n      checkbox.addEventListener('change', function () {\n        validateCheckboxes(form.querySelectorAll('input[type=\"checkbox\"].some'), form.querySelectorAll('input[type=\"checkbox\"][required]'));\n      });\n    });\n  });\n};\n\n//# sourceURL=webpack:///./src/js/modules/forms/validation.js?");

/***/ }),

/***/ "./src/js/modules/notifications.js":
/*!*****************************************!*\
  !*** ./src/js/modules/notifications.js ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   showNotification: function() { return /* binding */ showNotification; }\n/* harmony export */ });\nfunction showNotification(message) {\n  var _notification$querySe;\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'success';\n  var notificationContainer = document.getElementById('custom-notifications');\n  var notification = document.createElement('div');\n  notification.className = \"custom-notification \".concat(type);\n  notification.innerHTML = \"<div>\".concat(message, \"</div>\");\n  notificationContainer.appendChild(notification);\n  setTimeout(function () {\n    notification.classList.add('show');\n  }, 10);\n  var timeoutId = setTimeout(function () {\n    hideNotification(notification);\n  }, 4000);\n  notification.addEventListener('mouseenter', function () {\n    clearTimeout(timeoutId);\n  });\n  notification.addEventListener('mouseleave', function () {\n    timeoutId = setTimeout(function () {\n      hideNotification(notification);\n    }, 5000);\n  });\n  (_notification$querySe = notification.querySelector('.close-alert')) === null || _notification$querySe === void 0 || _notification$querySe.addEventListener('click', function () {\n    clearTimeout(timeoutId);\n    hideNotification(notification);\n  });\n}\nfunction hideNotification(notification) {\n  notification.classList.remove('show');\n  notification.addEventListener('transitionend', function () {\n    notification.remove();\n  });\n}\n\n//# sourceURL=webpack:///./src/js/modules/notifications.js?");

/***/ })

}]);